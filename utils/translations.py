TRANSLATIONS = {
    "en": {
        "app_title": "Listy",
        "my_tasks": "Listy",
        "settings": "Settings",
        "dark_mode": "Dark Mode",
        "light_mode": "Light Mode",
        "language": "Language",
        "mode": "Mode",
        "mode_todo": "To-Do List",
        "mode_shopping": "Shopping List",
        "new_task_hint": "New Task...",
        "add_tooltip": "Add",
        "delete_tooltip": "Delete",
        "section_urgent": "Urgent",
        "section_medium": "Medium",
        "section_low": "Low",
        "section_done": "Completed",
        "section_open": "Open Items",
        "section_cart": "In Cart",
        "priority": "Priority",
        "save": "Save",
        "cancel": "Cancel",
        "settings_title": "App Settings",
        "select_list": "Select List",
        "new_list_hint": "New List Name...",
        "add_list_tooltip": "New List",
        "default_list_name": "General",
        "new_item_hint": "New Item...",
        "clear_list": "Clear List",
        "confirm_clear_title": "Delete All?",
        "confirm_clear_msg": "Do you really want to delete all items in this list? This cannot be undone.",
        "rename_list": "Rename List",
        "delete_list_title": "Delete List?",
        "delete_list_msg": "Do you really want to delete the list '{}'? This cannot be undone.",
        "cannot_delete_last_list": "Cannot delete the last list.",
        "rename_tooltip": "Rename List",
        "delete_list_tooltip": "Delete List",
        "copied_to_clipboard": "Copied to Clipboard",
        "duplicate_warning": "Item already exists in the list!"
    },
    "de": {
        "app_title": "Listy",
        "my_tasks": "Listy",
        "settings": "Einstellungen",
        "dark_mode": "Dunkelmodus",
        "light_mode": "Lichtmodus",
        "language": "Sprache",
        "mode": "Modus",
        "mode_todo": "To-Do Liste",
        "mode_shopping": "Einkaufsliste",
        "new_task_hint": "Neue Aufgabe...",
        "add_tooltip": "Hinzufügen",
        "delete_tooltip": "Löschen",
        "section_urgent": "Sehr Wichtig",
        "section_medium": "Mittel",
        "section_low": "Weniger Wichtig",
        "section_done": "Erledigt",
        "section_open": "Offene Artikel",
        "section_cart": "Im Warenkorb",
        "priority": "Priorität",
        "save": "Speichern",
        "cancel": "Abbrechen",
        "settings_title": "App Einstellungen",
        "select_list": "Liste Wählen",
        "new_list_hint": "Neuer Listenname...",
        "add_list_tooltip": "Neue Liste",
        "default_list_name": "Allgemein",
        "new_item_hint": "Neuer Artikel...",
        "clear_list": "Liste leeren",
        "confirm_clear_title": "Alles löschen?",
        "confirm_clear_msg": "Möchtest du wirklich alle Einträge dieser Liste löschen? Dies kann nicht rückgängig gemacht werden.",
        "rename_list": "Liste umbenennen",
        "delete_list_title": "Liste löschen?",
        "delete_list_msg": "Möchtest du die Liste '{}' wirklich löschen? Dies kann nicht rückgängig gemacht werden.",
        "cannot_delete_last_list": "Die letzte Liste kann nicht gelöscht werden.",
        "rename_tooltip": "Umbenennen",
        "delete_list_tooltip": "Liste löschen",
        "copied_to_clipboard": "In die Zwischenablage kopiert",
        "duplicate_warning": "Artikel existiert bereits in der Liste!"
    },
    "zh": {
        "app_title": "Listy",
        "my_tasks": "Listy",
        "settings": "设置",
        "dark_mode": "深色模式",
        "light_mode": "浅色模式",
        "language": "语言",
        "mode": "模式",
        "mode_todo": "待办事项",
        "mode_shopping": "购物清单",
        "new_task_hint": "新任务...",
        "add_tooltip": "添加",
        "delete_tooltip": "删除",
        "section_urgent": "非常重要",
        "section_medium": "中等",
        "section_low": "不太重要",
        "section_done": "已完成",
        "section_open": "未购物品",
        "section_cart": "购物车",
        "priority": "优先级",
        "save": "保存",
        "cancel": "取消",
        "settings_title": "应用设置",
        "select_list": "选择清单",
        "new_list_hint": "新清单名称...",
        "add_list_tooltip": "新清单",
        "default_list_name": "通用",
        "new_item_hint": "新物品...",
        "clear_list": "清空列表",
        "confirm_clear_title": "删除所有？",
        "confirm_clear_msg": "你确定要删除此列表中的所有项目吗？此操作无法撤销。",
        "rename_list": "重命名清单",
        "delete_list_title": "删除清单？",
        "delete_list_msg": "你确定要删除清单 '{}' 吗？此操作无法撤销。",
        "cannot_delete_last_list": "无法删除最后一个清单。",
        "rename_tooltip": "重命名",
        "delete_list_tooltip": "删除清单",
        "copied_to_clipboard": "已复制到剪贴板",
        "duplicate_warning": "项目已存在于列表中！"
    },
    "ja": {
        "app_title": "Listy",
        "my_tasks": "Listy",
        "settings": "設定",
        "dark_mode": "ダークモード",
        "light_mode": "ライトモード",
        "language": "言語",
        "mode": "モード",
        "mode_todo": "To-Doリスト",
        "mode_shopping": "買い物リスト",
        "new_task_hint": "新しいタスク...",
        "add_tooltip": "追加",
        "delete_tooltip": "削除",
        "section_urgent": "緊急",
        "section_medium": "中",
        "section_low": "低",
        "section_done": "完了",
        "section_open": "未購入",
        "section_cart": "カート",
        "priority": "優先度",
        "save": "保存",
        "cancel": "キャンセル",
        "settings_title": "アプリ設定",
        "select_list": "リストを選択",
        "new_list_hint": "新しいリスト名...",
        "add_list_tooltip": "新しいリスト",
        "default_list_name": "買い物リスト",
        "new_item_hint": "新しい商品...",
        "clear_list": "リストをクリア",
        "confirm_clear_title": "すべて削除しますか？",
        "confirm_clear_msg": "このリストのすべての項目を削除してもよろしいですか？この操作は取り消せません。",
        "rename_list": "リスト名を変更",
        "delete_list_title": "リストを削除？",
        "delete_list_msg": "リスト '{}' を削除してもよろしいですか？この操作は取り消せません。",
        "cannot_delete_last_list": "最後のリストは削除できません。",
        "rename_tooltip": "名前変更",
        "delete_list_tooltip": "リストを削除",
        "copied_to_clipboard": "クリップボードにコピーしました",
        "duplicate_warning": "この項目は既にリストに存在します！"
    }
}

class LanguageManager:
    def __init__(self, initial_lang="en"):
        self.current_lang = initial_lang

    def get_text(self, key):
        return TRANSLATIONS.get(self.current_lang, TRANSLATIONS["en"]).get(key, key)

    def set_language(self, lang_code):
        if lang_code in TRANSLATIONS:
            self.current_lang = lang_code
